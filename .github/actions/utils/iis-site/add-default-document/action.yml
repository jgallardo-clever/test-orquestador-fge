name: Configurar documento por defecto en IIS
description: Esta acción configura un documento por defecto en un sitio de IIS específico.
inputs:
  ipServer:
    description: Dirección IP del servidor IIS.
    required: true
  sshUser:
    description: Usuario SSH para conectarse al servidor.
    required: true
  siteName:
    description: Nombre del sitio de IIS.
    required: true
  defaultDocument:
    description: Nombre del documento por defecto a configurar.
    required: true
runs:
  using: "composite"
  steps:
    - name: Ver parámetros de entrada
      run: |
        echo "Configurando documento por defecto en IIS con los siguientes parámetros:"
        echo "IP del servidor: ${{ inputs.ipServer }}"
        echo "Usuario SSH: ${{ inputs.sshUser }}"
        echo "Nombre del sitio: ${{ inputs.siteName }}"
        echo "Documento por defecto: ${{ inputs.defaultDocument }}"
      shell: powershell
    - name: Ejecutar script de configuración
      run: |
        echo "Ejecutando el script para configurar el documento por defecto en IIS..."
        .\add-default-document.ps1 -ipServer '${{ inputs.ipServer }}' -sshUser '${{ inputs.sshUser }}' -siteName '${{ inputs.siteName }}' -defaultDocument '${{ inputs.defaultDocument }}'
      shell: powershell
      working-directory: ./orquestador/.github/actions/utils/iis-site/add-default-document